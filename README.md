# JudoMind

> Mindfulness & mental preparation companion for Judokas of all levels.

## Features

* **Daily affirmations** sourced from sports‑psychology scripts.
* **Breathing timer** with animated circle (4‑7‑8 & box breathing presets).
* **Session logger** to capture mood, RPE, and key reflections after training.
* **Secure auth & sessions** via cookies backed by Postgres.
* **Responsive UI** tuned for dojo‑side mobiles up to desktops.
* **Serverless‑friendly** (Neon Postgres driver) & zero‑config deploy on Vercel/Fly.io.

## Tech Stack

| Layer     | Tech                                       |
| --------- | ------------------------------------------ |
| Front‑end | React 18, Vite, Tailwind, Radix UI, Wouter |
| API       | Express (TypeScript)                       |
| Database  | Postgres, Drizzle ORM                      |
| Auth      | express‑session + connect‑pg‑simple        |
| Build     | esbuild + Vite                             |

## Project Structure

```
.
├── client/          # React app
│   └── src/
├── server/          # Express API
│   └── routes.ts
├── shared/          # DRY types & Drizzle schema
├── migrations/      # SQL generated by drizzle-kit
└── dist/            # Production build output
```

## Quick Start

### 1. Clone & install

```bash
git clone https://github.com/your-username/judomind.git
cd judomind
pnpm install   # or npm/yarn
```

### 2. Configure environment

Create `.env.local` at repo root:

```env
DATABASE_URL=postgres://<user>:<pw>@<host>:<port>/<db>
SESSION_SECRET=change-me          # at least 32 random chars
```

> Neon users can paste the full connection string; SSL is required and already handled.

### 3. Prepare the database

```bash
pnpm db:push   # creates tables via Drizzle
```

### 4. Run in development

```bash
pnpm dev       # concurrently starts API (port 5000) & Vite client (HMR)
```

Open [http://localhost:5000](http://localhost:5000). The API is proxied under `/api`.

### 5. Build & start

```bash
pnpm build     # bundles client + server to ./dist
pnpm start     # node ./dist/server.js
```

## Deployment

| Platform | One‑liner                                                        |
| -------- | ---------------------------------------------------------------- |
| Fly.io   | `fly launch --dockerfile Dockerfile --build-arg NODE_VERSION=20` |
| Vercel   | `vercel --prod` (see `vercel.json`)                              |
| Render   | Connect repo → set env vars → enable PR builds                   |

**Cold starts:** Neon’s free tier can sleep; add a scheduled ping (`/api/health`) to keep it warm.

## Scripts

| Command        | Description             |
| -------------- | ----------------------- |
| `pnpm dev`     | Dev mode with HMR & TSX |
| `pnpm db:push` | Run Drizzle migrations  |
| `pnpm build`   | Production bundle       |
| `pnpm start`   | Start compiled server   |
| `pnpm lint`    | ESLint + Prettier       |

## Testing

Testing is not yet configured. PRs adding Playwright smoke tests for `/api/affirmations` and auth flow are welcome!

## Contributing

1. Fork & clone.
2. Create a feature branch: `git checkout -b feat/my-thing`.
3. Commit convention: `feat: add X`
4. Open a PR to `main`.

Code of Conduct: see `CODE_OF_CONDUCT.md`.

## License

MIT © 2025 Nick Benson

## Acknowledgements

* Built with ❤️ by Nick Benson.
* Inspired by judo mindset principles and Stoic philosophy.
